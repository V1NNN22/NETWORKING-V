# ‚òÅÔ∏è Cloud Networking Special Topic  
## Overlay Networking with VXLAN & EVPN in Cloud Data Centers  
*(How modern clouds build massive virtual networks on top of physical networks)*  

**Written By: Vinod N. Rathod**

---

## üß† What is Overlay Networking?

**Definition:**  
Overlay networking means building a **virtual network on top of an existing physical network**.  
The physical network only moves packets.  
The overlay decides **who talks to whom, how isolated the traffic is, and how scalable the network becomes**.

**Purpose:**  
- Allow millions of virtual machines to share limited IP space  
- Provide strict isolation between tenants  
- Enable workload mobility without changing IP addresses  

In cloud platforms, almost all networking runs on overlays.  
Even a VPC itself is an overlay abstraction.

---

## üß± Core Technologies Used

### 1Ô∏è‚É£ VXLAN (Virtual Extensible LAN)

**Problem it solves:**  
Traditional VLANs are limited to **4096 networks only**.  
Large cloud environments need **millions of isolated networks**.

**Solution:**  
VXLAN introduces a **24-bit Network Identifier (VNI)**  
‚Üí Supports **16 million isolated networks**

**How it works:**  
- Original Ethernet packet is **encapsulated inside UDP**  
- The outer IP packet travels across the physical network  
- The inner packet remains unchanged for the destination VM  

**Key Term:**  
**VTEP (VXLAN Tunnel Endpoint)**  
A device or host that:
- Encapsulates traffic into VXLAN tunnels  
- Decapsulates traffic at the destination  

**Used by:**  
- AWS internal networking fabric  
- Azure Software Defined Networking  
- Google Cloud Andromeda  

---

### 2Ô∏è‚É£ EVPN (Ethernet VPN)

VXLAN alone has a limitation:  
‚ÄúHow do we learn where destination MAC and IP addresses are located?‚Äù

**Old method:**  
Flood traffic everywhere to discover destinations  
‚Üí Inefficient and not scalable  

**EVPN solves this using BGP as the control plane.**

**Functions:**  
- Advertises MAC + IP + location information using BGP  
- Eliminates flooding  
- Provides fast convergence  
- Scales to massive cloud environments  

**Architecture:**  
- **VXLAN = Data Plane (packet tunneling)**  
- **EVPN = Control Plane (learning and routing)**  

Together they form the backbone of modern cloud networking.

---

## üåê Why Clouds Need Overlay Networking

Cloud infrastructure requires:  
- Multi-tenant isolation  
- Overlapping IP address support  
- Fast virtual machine migration  
- Zero-downtime scaling  

Overlay networking enables:  
- Reuse of private IP ranges across tenants  
- Seamless workload movement  
- Built-in tenant isolation  
- Massive scalability without changing physical hardware  

The physical network remains simple:  
IP routing + BGP forwarding only.  
All intelligence exists in the overlay layer.

---

## üîÅ Packet Flow (Simplified)

**VM A communicates with VM B**

1. VM A sends a normal Ethernet frame  
2. Source VTEP encapsulates the frame into a VXLAN packet  
3. Outer IP packet is routed through the physical network  
4. Destination VTEP decapsulates the packet  
5. VM B receives the original Ethernet frame  

Physical routers never see tenant MAC or IP information.  
They only forward outer IP packets.  
This ensures scalability and security.

---

## üîê Security Advantages

- Strong tenant isolation by design  
- Protection against MAC and IP spoofing across networks  
- Reduced lateral movement risk  
- Enables micro-segmentation inside the overlay  

Most cloud firewalls operate **within the overlay**, not on the physical network.

---

## üèóÔ∏è Real-World Usage

**Public Clouds:**  
- AWS VPC internal fabric  
- Azure SDN infrastructure  
- Google Cloud Andromeda  

**Private Clouds & Data Centers:**  
- OpenStack Neutron  
- VMware NSX  
- Cisco ACI  

Without overlay networking, modern cloud platforms cannot scale.

---

## üßæ Quick Recap

| Component | Purpose |
|----------|---------|
| Overlay Network | Virtual network above physical infrastructure |
| VXLAN | Encapsulation protocol for large-scale isolation |
| VTEP | Tunnel endpoint for encapsulation and decapsulation |
| EVPN | BGP control plane for learning and routing |
| Underlay | Physical IP network |

---

## ‚ö° In Simple Terms

The physical network is only a fast highway.  
The overlay network is the intelligent city map.

- VXLAN builds tunnels  
- EVPN tells everyone where destinations exist  

This design enables:  
- Millions of tenants  
- Overlapping IP ranges  
- Live workload migration  
- Secure and scalable cloud networking  

Invisible layer.  
Critical layer.  
Rarely explained correctly.

---

**~ V1NNN22 ~**  
**THANK YOU!**